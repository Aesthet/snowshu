version: "1"
credpath: "./credentials.yml"
name: sample trail path
threads: 4
source:
  profile: default
  default_sampling:
    databases:
    - name: '(?i)^raw.*' # matches any database that starts with raw (case insensitive)
      schemas:
      - name: '*' # matches all schemas
        relations:
        - '^(?!.*_tmp)$' # matches all relations that do not end with '_tmp'
  
  include_outliers: True
  sample_method: bernoulli

  # depending on your sample method you may or may not need these options:
  max_k_rows: 100
  target_percentage: null 
  
  # these are exceptions to the 'default' sampling above
  relations:
  - database: RawSourceData
    schema: django
    relation: users
    relationships:
      bidirectional: 
      ## this maps `RawSourceData.django.users.home_address_id <=> RawSourceData.django.home_addresses.id` 
      - local_attribute: home_address_id 
        database: RawSourceData
        schema: django
        relation: home_addresses
        remote_attribute: id 

      ## this maps `RawSourceData.django.users.home_page_id => RawSourceData.django.website_pages.id` 
      directional:
      - local_attribute: home_page_id
        database: RawSourceData
        schema: django
        relation: website_pages
        remote_attribute: id

target:
  profile: default

storage:
  profile: default
